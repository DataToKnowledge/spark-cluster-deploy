sudo: required
services:
  - docker

install:
  - docker build -t t3g7/docker-spark .

script:
  - docker run -it t3g7/docker-spark /bin/bash /usr/local/spark/bin/run-example SparkPi 10

after_success:
  - docker login -e="$DOCKER_EMAIL" -u="$DOCKER_USERNAME" -p="$DOCKER_PASSWORD"
  - docker push t3g7/docker-spark

notifications:
  email:
    on_success: never
    on_failure: change
